{"version":3,"names":["_config","data","require","_default","context","electronWebpackConfig","getElectronWebpackConfiguration","distDir","commonDistDirectory","extraMetadata","main","files","from","filter","extraResources","staticSourceDirectory","to"],"sources":["../src/electron-builder.ts"],"sourcesContent":["import { Lazy } from \"lazy-val\"\r\nimport { getElectronWebpackConfiguration } from \"./config\"\r\n\r\ninterface Context {\r\n  projectDir: string\r\n  packageMetadata: Lazy<{ [key: string]: any } | null> | null\r\n}\r\n\r\nexport default async function(context: Context) {\r\n  const electronWebpackConfig = await getElectronWebpackConfiguration(context)\r\n  const distDir = electronWebpackConfig.commonDistDirectory!!\r\n  return {\r\n    extraMetadata: {\r\n      main: \"main.js\"\r\n    },\r\n    files: [\r\n      {\r\n        from: \".\",\r\n        filter: [\"package.json\"]\r\n      },\r\n      {\r\n        from: `${distDir}/main`\r\n      },\r\n      {\r\n        from: `${distDir}/renderer`\r\n      },\r\n      {\r\n        from: `${distDir}/renderer-dll`\r\n      }\r\n    ],\r\n    extraResources: [\r\n      {\r\n        from: electronWebpackConfig.staticSourceDirectory,\r\n        to: electronWebpackConfig.staticSourceDirectory\r\n      }\r\n    ]\r\n  }\r\n}\r\n"],"mappings":";;;;;;AACA,SAAAA,QAAA;EAAA,MAAAC,IAAA,GAAAC,OAAA;EAAAF,OAAA,YAAAA,CAAA;IAAA,OAAAC,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAOe,eAAAE,SAAeC,OAAgB;EAC5C,MAAMC,qBAAqB,GAAG,MAAM,IAAAC,yCAA+B,EAACF,OAAO,CAAC;EAC5E,MAAMG,OAAO,GAAGF,qBAAqB,CAACG,mBAAqB;EAC3D,OAAO;IACLC,aAAa,EAAE;MACbC,IAAI,EAAE;KACP;IACDC,KAAK,EAAE,CACL;MACEC,IAAI,EAAE,GAAG;MACTC,MAAM,EAAE,CAAC,cAAc;KACxB,EACD;MACED,IAAI,EAAE,GAAGL,OAAO;KACjB,EACD;MACEK,IAAI,EAAE,GAAGL,OAAO;KACjB,EACD;MACEK,IAAI,EAAE,GAAGL,OAAO;KACjB,CACF;IACDO,cAAc,EAAE,CACd;MACEF,IAAI,EAAEP,qBAAqB,CAACU,qBAAqB;MACjDC,EAAE,EAAEX,qBAAqB,CAACU;KAC3B;GAEJ;AACH"}
