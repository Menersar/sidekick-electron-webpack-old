{"version":3,"names":["path","_interopRequireWildcard","require","_yargs","data","_interopRequireDefault","obj","__esModule","default","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","yargs","command","argv","build","runInDevMode","configFile","args","process","sliceIndex","length","startsWith","extraWebpackArgs","slice","some","it","includes","push","join","__dirname","resolve"],"sources":["../src/cli.ts"],"sourcesContent":["#!/usr/bin/env node\r\n\r\nimport * as path from \"path\"\r\nimport yargs from \"yargs\"\r\n\r\n// not strict because we allow to pass any webpack args\r\n// tslint:disable-next-line:no-unused-expression\r\nyargs\r\n  .command([\"app\", \"compile\", \"*\"], \"Compile application\", yargs => yargs, argv => build(\"app\"))\r\n  .command([\"main\"], \"Compile main process\", yargs => yargs, argv => build(\"main\"))\r\n  .command([\"renderer\"], \"Compile renderer process\", yargs => yargs, argv => build(\"renderer\"))\r\n  .command([\"dll\"], \"Compile DLL bundles\", yargs => yargs, argv => build(\"renderer.dll\"))\r\n  .command([\"dev\"], \"Run a development mode\", yargs => yargs, argv => runInDevMode())\r\n  .argv\r\n\r\nfunction build(configFile: string) {\r\n  const args = process.argv\r\n  // if command `electron-webpack` - remove first 2 args, if `electron-webpack compile` (or any other subcommand name) - 3\r\n  const sliceIndex = args.length > 2 && !args[2].startsWith(\"-\") ? 3 : 2\r\n  const extraWebpackArgs = sliceIndex < args.length ? args.slice(sliceIndex) : []\r\n  // remove extra args\r\n  args.length = 2\r\n  if (!extraWebpackArgs.some(it => it.includes(\"--env.production\"))) {\r\n    args.push(\"--env.production\")\r\n  }\r\n  args.push(\"--progress\")\r\n  args.push(...extraWebpackArgs)\r\n  args.push(\"--config\", path.join(__dirname, \"..\", `webpack.${configFile}.config.js`))\r\n\r\n  require(\"yargs\")(args.slice(2))\r\n  require(require.resolve(\"webpack-cli\"))\r\n}\r\n\r\nfunction runInDevMode() {\r\n  require(\"./dev/dev-runner\")\r\n}"],"mappings":"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"}
